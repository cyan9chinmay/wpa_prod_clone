class HeaderElement extends HTMLElement{#t;#e;#n;#i;#s;#o;constructor(){super(),this.#t=0,this.#e=!1,this.#n=0,this.#i=0,this.#s=this.#a.bind(this),this.#o=this.#l.bind(this)}connectedCallback(){this.isConnected&&(this.#a(),window.addEventListener("scroll",this.#s,{passive:!0}))}disconnectedCallback(){window.removeEventListener("scroll",this.#s),window.cancelAnimationFrame(this.#t)}#a(){window.cancelAnimationFrame(this.#t),this.#t=window.requestAnimationFrame(this.#o)}#l(){const t=document.documentElement,e=t.scrollHeight-t.clientHeight,n=Math.max(Math.min(t.scrollTop,e),0),i=n>0&&n>=this.#n,s=this.#n-n;this.#i=Math.min(Math.max(this.#i+s,-100),0),this.#n=n,this.#e=i,this.style.setProperty("--header-translate-y",this.#i+"%")}}class MenuElement extends HTMLElement{#r;#h;#m;#d;#c;#u;#E;#w;#v;constructor(){super(),this.#r=0,this.#h=document.getElementById("menu"),this.#m=this.#h.querySelector(".button.close button"),this.#d=window.matchMedia("(min-width: 1280px)"),this.#c=this.querySelector(".button.show button"),this.#u=this.#p.bind(this),this.#E=this.#C.bind(this),this.#w=this.#F.bind(this),this.#v=this.#g.bind(this)}connectedCallback(){this.isConnected&&(this.#d.addEventListener("change",this.#E),this.#c.addEventListener("click",this.#v),this.#m.addEventListener("click",this.#E),this.#h.addEventListener("close",this.#u))}disconnectedCallback(){this.#c.removeEventListener("click",this.#v),this.#m.removeEventListener("click",this.#E),this.#h.removeEventListener("close",this.#u)}#C(){this.#h.close()}#F(t){t.matches&&this.#h.close()}#p(){document.documentElement.scrollTop=this.#r,this.classList.remove("active")}#g(){this.#r=document.documentElement.scrollTop,this.#h.showModal(),window.requestAnimationFrame((()=>{this.classList.add("active")}))}}class AnimationElement extends HTMLElement{#d;#A;#L;constructor(){super(),this.#d=window.matchMedia("(prefers-reduced-motion: no-preference)"),this.#A=this.querySelector("video"),this.#L=this.#l.bind(this)}connectedCallback(){this.isConnected&&(this.#d.matches&&this.#A.play(),this.#d.addEventListener("change",this.#L))}disconnectedCallback(){this.#d.removeEventListener("change",this.#L),this.#A.pause()}#l(t){t.matches?this.#A.play():this.#A.pause()}}class ParallaxElement extends HTMLElement{#t;#s;#o;constructor(){super(),this.#t=0,this.#s=this.#a.bind(this),this.#o=this.#l.bind(this)}connectedCallback(){this.isConnected&&(this.#a(),window.addEventListener("resize",this.#s),window.addEventListener("scroll",this.#s,{passive:!0}))}disconnectedCallback(){window.removeEventListener("resize",this.#s),window.removeEventListener("scroll",this.#s),window.cancelAnimationFrame(this.#t)}#a(){window.cancelAnimationFrame(this.#t),this.#t=window.requestAnimationFrame(this.#o)}#l(){const t=document.documentElement,e=t.clientHeight,n=t.scrollHeight,i=t.scrollTop,s=this.parentElement.getBoundingClientRect(),o=s.height,a=s.top+i,l=a+o,r=a<e?0:a-e,h=n-e,m=(i-r)/((h<l?h:l)-r);this.style.setProperty("--parallax-factor",m.toString()),this.style.setProperty("--parallax-height",o.toString()+"px")}}class GalleryElement extends HTMLElement{#t;#k;#y;#b;#s;#o;constructor(){super(),this.#t=0,this.#k=this.querySelector(".stack"),this.#y=this.querySelector(".items"),this.#b=this.#y.querySelectorAll(".frame:nth-child(-n+4)"),this.#s=this.#a.bind(this),this.#o=this.#l.bind(this)}connectedCallback(){this.isConnected&&(this.#a(),window.addEventListener("resize",this.#s),window.addEventListener("scroll",this.#s,{passive:!0}))}disconnectedCallback(){window.removeEventListener("resize",this.#s),window.removeEventListener("scroll",this.#s),window.cancelAnimationFrame(this.#t)}#a(){window.cancelAnimationFrame(this.#t),this.#t=window.requestAnimationFrame(this.#o)}#l(){const t=document.documentElement.clientHeight,e=this.#k.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2,s=t-this.#y.getBoundingClientRect().top,o=1-Math.max(Math.min(s/e.height,1),0);this.style.setProperty("--stack-scroll-factor",o.toString());for(let t of this.#b){let e=t.getBoundingClientRect(),s=n-(e.left+e.width/2),o=i-(e.top+e.height/2);t.style.setProperty("--stack-distance-x",s.toString()+"px"),t.style.setProperty("--stack-distance-y",o.toString()+"px")}}}customElements.define("header-element",HeaderElement),customElements.define("menu-element",MenuElement),customElements.define("animation-element",AnimationElement),customElements.define("parallax-element",ParallaxElement),customElements.define("gallery-element",GalleryElement);